(this["webpackJsonpcommon-ground"]=this["webpackJsonpcommon-ground"]||[]).push([[0],{117:function(e,t){e.exports={googleApiKey:"AIzaSyBfjPbXYnzsofVUfVWniJE2URTU3ceHZaI",firestoreAPI:""}},153:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),i=a.n(r),o=a(119),s=a(228),l=a(235),d=a(7),u=a(14),j=a(19),b=a(65),h=a(101),m=a(85);a(155),a(139);m.a.initializeApp({apiKey:"AIzaSyC3hpsi0rR-d63ysHHYO7gSKIZByDc3REE",authDomain:"common-ground-f6ee0.firebaseapp.com",projectId:"common-ground-f6ee0",storageBucket:"common-ground-f6ee0.appspot.com",messagingSenderId:"126628518410",appId:"1:126628518410:web:6295ed2a3ce028a675ddf3",measurementId:"G-MFBV4Y2GS2"});var f={auth:m.a.auth(),firestore:m.a.firestore()},g=Object(n.createContext)({}),x=a(205),p=a(206),O=a(45),y=a(106),v=a.n(y),C=a(107),w=a.n(C),S=a(108),k=a.n(S),I=a(1);function N(){return Object(I.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(I.jsx)(O.a,{style:{margin:4},variant:"body2",color:"textSecondary",children:Object(I.jsx)(v.a,{})}),Object(I.jsx)(O.a,{style:{margin:4},variant:"body2",color:"textSecondary",children:Object(I.jsx)(w.a,{})}),Object(I.jsx)(O.a,{style:{margin:4},variant:"body2",color:"textSecondary",children:Object(I.jsx)(k.a,{})})]})}var T=Object(x.a)((function(e){return{footer:{padding:e.spacing(6,0)}}}));function L(e){var t=T(),a=e.description;e.title;return Object(I.jsx)("footer",{className:t.footer,children:Object(I.jsxs)(p.a,{maxWidth:"lg",children:[Object(I.jsx)(O.a,{variant:"subtitle2",align:"center",color:"textSecondary",component:"p",style:{fontFamily:"'Halant', serif"},gutterBottom:!0,children:a}),Object(I.jsx)(N,{})]})})}var P=a(244),B=a(217),D=a(246),z=a(237),E=a(219),R=a(48),F=a(207),M=a(213),U=a(214),A=a(82),_=a.n(A),q=a(208),W=a(209),H=a(210),G=a(211),J=a(243),V=a(212),Y=Object(x.a)((function(e){return{root:{maxWidth:350},avatar:{backgroundColor:"#ffed03"},content:{padding:16,"&:last-child":{paddingBottom:16},minHeight:200}}})),K=function(e){var t=e.doc,a=Y(),n=t.uid,c=t.name,r=t.bio,i=t.focus,o=t.city,s=t.state;t.photo_url;return Object(I.jsx)(F.a,{item:!0,xs:12,sm:6,md:4,children:Object(I.jsx)(q.a,{in:!0,timeout:500,children:Object(I.jsx)(W.a,{raised:!0,className:a.root,children:Object(I.jsxs)(H.a,{disableTouchRipple:!0,children:[Object(I.jsx)(G.a,{avatar:Object(I.jsx)(u.b,{to:{pathname:"/charities/".concat(n),state:{userId:n,type:"charity"}},children:t&&t.photo_url?Object(I.jsx)(J.a,{src:t.photo_url,"aria-label":"charity profile",className:a.avatar}):Object(I.jsx)(J.a,{"aria-label":"charity profile",className:a.avatar,children:Object(I.jsx)(_.a,{})})},"charity"),title:c,subheader:i}),Object(I.jsxs)(V.a,{className:a.content,children:[Object(I.jsx)(O.a,{variant:"body2",color:"textSecondary",component:"p",children:r}),Object(I.jsx)("br",{}),Object(I.jsx)(O.a,{variant:"overline",children:"".concat(o,", ").concat(s)})]})]})})})})},Q=function(e){var t="";if(""!==e)return e.split(" ").forEach((function(e){""!==e&&(t+=e[0].toUpperCase()+e.slice(1)+" ")})),t.slice(0,-1)},X=Object(x.a)((function(e){return{buttonContainer:{display:"flex",justifyContent:"center",marginTop:25},moreButton:{marginTop:30,padding:20,minWidth:200}}})),Z=function(e){var t=e.searchTerm,a=e.criteria,c=X(),r=[],i=Object(n.useState)([]),o=Object(d.a)(i,2),s=o[0],l=o[1],u=Object(n.useState)({}),j=Object(d.a)(u,2),b=j[0],h=j[1],m=Object(n.useState)(!0),g=Object(d.a)(m,2),x=g[0],O=g[1],y=function(e,t,a){f.firestore.collection("organizations").where(e,t,a).get().then((function(e){e.forEach((function(e){r.push(e.data())})),l(r)})).catch((function(e){return console.log(e.message)}))},v={name:function(e){y("search_name","array-contains",e)},city:function(e){y("city","==",Q(e))},state:function(e){y("state","==",e.toUpperCase())},theme:function(e){y("focus","==",Q(e))}};return Object(n.useEffect)((function(){t&&""!==t?v[a](t):f.firestore.collection("organizations").orderBy("name","asc").limit(6).get().then((function(e){h(e.docs[e.docs.length-1]),e.forEach((function(e){r.push(e.data())})),l(r),setTimeout((function(){return O(!1)}),500)})).catch((function(e){return console.log(e.message)}))}),[t]),Object(I.jsxs)(p.a,{children:[Object(I.jsx)(F.a,{className:c.grid,container:!0,spacing:4,children:s.map((function(e){return Object(I.jsx)(K,{className:"charity-tile",doc:e},e.name)}))}),x||t?Object(I.jsx)(I.Fragment,{}):Object(I.jsx)("div",{className:c.buttonContainer,children:Object(I.jsx)(M.a,{direction:"up",in:!0,children:Object(I.jsx)(U.a,{size:"large",className:c.moreButton,color:"secondary",onClick:function(){f.firestore.collection("organizations").orderBy("name","asc").startAfter(b).limit(6).get().then((function(e){var t=e.docs.length;t>0?(O(!1),h(e.docs[t-1]),e.forEach((function(e){r.push(e.data())})),l([].concat(Object(R.a)(s),r))):(console.log("No more docs to fetch."),O(!0))})).catch((function(e){return console.log(e.message)}))},children:"show more"})})})]})},$=Object(x.a)((function(e){return{field:{marginTop:20,marginBottom:10,display:"block"},formControl:{margin:e.spacing(1),minWidth:120,marginLeft:0,marginBottom:20}}})),ee=function(){var e=$(),t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(!1),o=Object(d.a)(i,2),s=o[0],l=o[1],u=Object(n.useState)("name"),j=Object(d.a)(u,2),b=j[0],h=j[1];return Object(I.jsxs)(p.a,{children:[Object(I.jsxs)("div",{style:{paddingLeft:24,marginBottom:40},children:[Object(I.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),console.log("submit",c)},children:Object(I.jsx)(P.a,{className:e.field,label:"Find Charity by ".concat(Q(b)),color:"secondary",onChange:function(e){return r(e.target.value)}})}),Object(I.jsxs)(B.a,{className:e.formControl,children:[Object(I.jsx)(D.a,{id:"charity-search-criteria",color:"secondary",children:"Criteria"}),Object(I.jsxs)(z.a,{color:"secondary",labelId:"charity-search-criteria",id:"charity-search-criteria-open-select",open:s,onClose:function(){l(!1)},onOpen:function(){l(!0)},value:b,onChange:function(e){h(e.target.value)},children:[Object(I.jsx)(E.a,{value:"name",children:"Name"}),Object(I.jsx)(E.a,{value:"city",children:"City"}),Object(I.jsx)(E.a,{value:"state",children:"State"}),Object(I.jsx)(E.a,{value:"theme",children:"Charity Theme"})]})]})]}),Object(I.jsx)(Z,{searchTerm:c,criteria:b,className:e.tiles})]})},te=a(47),ae=a(225),ne=a(226),ce=a(61),re=a(59),ie=a.n(re),oe=a(94),se=a.n(oe),le=a(28),de=a.n(le),ue=a(159),je=a(220),be=a(221),he=a(49),me=Object(x.a)((function(e){return{root:{maxWidth:350},image:{border:"1px solid red",margin:20},media:{height:180},avatar:{backgroundColor:"#ffed03"},content:{minHeight:80},cardactions:{padding:16,justifyContent:"space-between"},expiry:{color:"#2196f3"}}})),fe=function(e){var t=e.doc,a=me(),c=Object(n.useContext)(g).userInfo,r=t.donor_id,i=t.title,o=t.description,s=t.quantity,l=t.date,j=t.expiry,b=t.id,h=t.imgURL,m=Object(n.useState)({}),x=Object(d.a)(m,2),p=x[0],y=x[1];return Object(n.useEffect)((function(){f.firestore.collection("users").where("uid","==",r).get().then((function(e){e.forEach((function(e){y(e.data())}))})).catch((function(e){return console.log(e.message)}))}),[]),Object(I.jsx)(F.a,{item:!0,xs:12,sm:6,md:4,children:Object(I.jsx)(q.a,{in:!0,timeout:500,children:Object(I.jsx)(W.a,{raised:!0,className:a.root,children:Object(I.jsxs)(H.a,{disableTouchRipple:!0,children:[Object(I.jsx)(G.a,{avatar:Object(I.jsx)(u.b,{to:{pathname:"/profile/".concat(r),state:{userId:p.uid,type:"user"}},children:p&&p.photo_url?Object(I.jsx)(J.a,{"aria-label":"donor_profile",className:a.avatar,src:p.photo_url,children:Object(I.jsx)(se.a,{})}):Object(I.jsx)(J.a,{"aria-label":"user_icon",className:a.avatar,children:Object(I.jsx)(se.a,{})})},"profile"),action:Object(I.jsx)(u.b,{to:{pathname:"/chat/".concat(r),state:{userId:r}},children:c&&c.uid?Object(I.jsx)(ue.a,{"aria-label":"chat",children:Object(I.jsx)(de.a,{})}):Object(I.jsx)(I.Fragment,{})},"chat"),title:"".concat(i," (x").concat(s,")"),subheader:p.name}),Object(I.jsx)(u.b,{to:{pathname:"/donations/".concat(b),state:{productId:b,userId:r,title:i,imgURL:h,description:o,quantity:s,date:l,context:"offer"}},children:Object(I.jsx)(je.a,{className:a.media,image:h||"https://source.unsplash.com/400x200/?".concat(i),title:"charitable donation"})},"donationDetail-".concat(b)),Object(I.jsx)(u.b,{style:{textDecoration:"none"},to:{pathname:"/donations/".concat(b),state:{productId:b,userId:r,title:i,imgURL:h,description:o,quantity:s,date:l,context:"offer"}},children:Object(I.jsx)(V.a,{className:a.content,children:Object(I.jsx)(O.a,{variant:"body2",color:"textSecondary",children:o})})},"donationDetail"),Object(I.jsxs)(be.a,{className:a.cardactions,children:[Object(I.jsx)(O.a,{variant:"overline",children:p.zip&&"".concat(ie.a.lookup(Number(p.zip)).city,", ").concat(ie.a.lookup(Number(p.zip)).state)}),Object(I.jsx)(O.a,{className:a.expiry,variant:"overline",children:"".concat(Object(he.convertMsToDays)(j)," days left")})]})]})})})})},ge=Object(x.a)((function(e){return{moreButton:{marginTop:30,padding:20,minWidth:200},buttonContainer:{display:"flex",justifyContent:"center",marginTop:25}}})),xe=function(e){var t=e.uid,a=e.searchTerm,c=ge(),r=Object(n.useState)([]),i=Object(d.a)(r,2),o=i[0],s=i[1],l=[],u=Object(n.useState)({}),j=Object(d.a)(u,2),b=j[0],h=j[1],m=Object(n.useState)(!0),g=Object(d.a)(m,2),x=g[0],O=g[1],y=function(e,t,a){f.firestore.collection("offers").where(e,t,a).orderBy("date","asc").get().then((function(e){e.forEach((function(e){var t=e.data().date.toMillis();if(t>he.expiryThreshold){var a=Object(ce.a)(Object(ce.a)({},e.data()),{},{expiry:t-he.expiryThreshold});l.push(a)}})),s(l)})).catch((function(e){return console.log(e.message)}))};return Object(n.useEffect)((function(){t?y("donor_id","==",t):a&&""!==a?y("title","==",Q(a)):f.firestore.collection("offers").orderBy("date","asc").limit(6).get().then((function(e){h(e.docs[e.docs.length-1]),e.forEach((function(e){var t=e.data().date.toMillis();if(t>he.expiryThreshold){var a=Object(ce.a)(Object(ce.a)({},e.data()),{},{expiry:t-he.expiryThreshold});l.push(a)}})),s(l),setTimeout((function(){return O(!1)}),500)})).catch((function(e){return console.log(e.message)}))}),[t,a]),Object(I.jsxs)(p.a,{children:[Object(I.jsx)(F.a,{container:!0,spacing:4,children:o.map((function(e){return Object(I.jsx)(fe,{doc:e},e.title)}))}),x||a?Object(I.jsx)(I.Fragment,{}):Object(I.jsx)("div",{className:c.buttonContainer,children:Object(I.jsx)(M.a,{direction:"up",in:!0,children:Object(I.jsx)(U.a,{size:"large",className:c.moreButton,color:"secondary",onClick:function(){f.firestore.collection("offers").orderBy("date","asc").startAfter(b).limit(6).get().then((function(e){var t=e.docs.length;t>0?(O(!1),h(e.docs[t-1]),e.forEach((function(e){var t=e.data().date.toMillis();if(t>he.expiryThreshold){var a=Object(ce.a)(Object(ce.a)({},e.data()),{},{expiry:t-he.expiryThreshold});l.push(a),s([].concat(Object(R.a)(o),l)),O(!1)}}))):(console.log("No more offers to fetch."),O(!0))})).catch((function(e){return console.log(e.message)}))},children:"show more"})})})]})},pe=a(109),Oe=a.n(pe),ye=Object(x.a)((function(e){return{root:{maxWidth:350},avatar:{backgroundColor:"#ffed03"},avatarEmg:{backgroundColor:"#FF0000"},content:{minHeight:120},cardactions:{paddingLeft:16,paddingTop:0}}})),ve=function(e){var t,a=e.doc,c=ye(),r=Object(n.useContext)(g).userInfo,i=a.id,o=a.org_id,s=a.title,l=a.description,j=a.quantity,b=a.emergency,h=a.date,m=Object(n.useState)({}),x=Object(d.a)(m,2),p=x[0],y=x[1];return Object(n.useEffect)((function(){f.firestore.collection("organizations").where("uid","==",o).get().then((function(e){e.forEach((function(e){y(e.data())}))})).catch((function(e){return console.log(e.message)}))}),[]),Object(I.jsx)(F.a,{item:!0,xs:12,sm:6,md:4,children:Object(I.jsx)(q.a,{in:!0,timeout:500,children:Object(I.jsx)(W.a,{raised:!0,className:c.root,children:Object(I.jsxs)(H.a,{disableTouchRipple:!0,children:[Object(I.jsx)(G.a,(t={avatar:b?Object(I.jsx)(u.b,{to:{pathname:"/charities/".concat(o),state:{userId:o,type:"charity"}},children:Object(I.jsx)(J.a,{"aria-label":"request",className:c.avatarEmg,children:Object(I.jsx)(Oe.a,{})})},"charity"):Object(I.jsx)(u.b,{to:{pathname:"/charities/".concat(o),state:{userId:o,type:"charity"}},children:p&&p.photo_url?Object(I.jsx)(J.a,{src:p.photo_url,"aria-label":"request",className:c.avatar}):Object(I.jsx)(J.a,{"aria-label":"request",className:c.avatar,children:Object(I.jsx)(_.a,{})})},"charity"),action:Object(I.jsx)(u.b,{to:{pathname:"/chat/".concat(o),state:{userId:o}},children:Object(I.jsx)(ue.a,{"aria-label":"chat",children:Object(I.jsx)(de.a,{})})},"chat"),title:Object(I.jsxs)(u.b,{to:{pathname:"/donations/".concat(i),state:{productId:i,userId:o,title:s,emergency:b,description:l,quantity:j,date:h,context:"organizations"}},children:["".concat(s," (x").concat(j,")"),r&&r.uid?Object(I.jsx)(ue.a,{"aria-label":"chat",children:Object(I.jsx)(de.a,{})}):Object(I.jsx)(I.Fragment,{})]},"donationDetail")},Object(te.a)(t,"title",s),Object(te.a)(t,"subheader",p.name),t)),Object(I.jsx)(u.b,{style:{textDecoration:"none"},to:{pathname:"/donations/".concat(i),state:{context:"organizations",productId:i,userId:o,title:s,emergency:b,description:l,quantity:j,date:h}},children:Object(I.jsx)(V.a,{className:c.content,children:Object(I.jsx)(O.a,{variant:"body2",color:"textSecondary",children:l})})},"donationDetail-".concat(i)),Object(I.jsx)(be.a,{className:c.cardactions,children:Object(I.jsx)(O.a,{variant:"overline",children:"".concat(p.city,", ").concat(p.state)})})]})})})})},Ce=Object(x.a)((function(e){return{container:{display:"flex",flexDirection:"column"},buttonContainer:{display:"flex",justifyContent:"center",marginTop:25},moreButton:{marginTop:30,padding:20,minWidth:200}}})),we=function(e){var t=e.uid,a=e.searchTerm,c=Ce(),r=Object(n.useState)([]),i=Object(d.a)(r,2),o=i[0],s=i[1],l=[],u=Object(n.useState)({}),j=Object(d.a)(u,2),b=j[0],h=j[1],m=Object(n.useState)(!0),g=Object(d.a)(m,2),x=g[0],O=g[1],y=function(e,t,a){f.firestore.collection("requests").where(e,t,a).orderBy("emergency","desc").get().then((function(e){e.forEach((function(e){l.push(e.data())})),s(l)})).catch((function(e){return console.log(e.message)}))};return Object(n.useEffect)((function(){t?y("org_id","==",t):a&&""!==a?y("title","==",Q(a)):f.firestore.collection("requests").orderBy("emergency","desc").limit(6).get().then((function(e){h(e.docs[e.docs.length-1]),e.forEach((function(e){l.push(e.data())})),s(l),setTimeout((function(){return O(!1)}),500)})).catch((function(e){return console.log(e.message)}))}),[a]),Object(I.jsxs)(p.a,{className:c.container,children:[Object(I.jsx)(F.a,{style:{justifyContent:"space-between"},container:!0,spacing:4,children:o.map((function(e){return Object(I.jsx)(ve,{doc:e},e.title)}))}),x||a?Object(I.jsx)(I.Fragment,{}):Object(I.jsx)("div",{className:c.buttonContainer,children:Object(I.jsx)(M.a,{direction:"up",in:!0,children:Object(I.jsx)(U.a,{size:"large",className:c.moreButton,color:"secondary",onClick:function(){f.firestore.collection("requests").orderBy("emergency","desc").startAfter(b).limit(6).get().then((function(e){var t=e.docs.length;t>0?(O(!1),h(e.docs[t-1]),e.forEach((function(e){l.push(e.data())})),s([].concat(Object(R.a)(o),l))):(console.log("No more requests to fetch."),O(!0))})).catch((function(e){return console.log(e.message)}))},children:"show more"})})})]})},Se=a(242),ke=a(223),Ie=a(224),Ne=a(222),Te=a(241),Le=a(240),Pe=Object(x.a)({container:{display:"flex",flexDirection:"column"},button:{margin:10,marginTop:30}});var Be=function(e){var t=e.handleClose,a=Object(n.useState)(""),c=Object(d.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),l=s[0],u=s[1],j=Object(n.useState)(!1),b=Object(d.a)(j,2),h=b[0],m=b[1],x=Object(n.useState)(""),O=Object(d.a)(x,2),y=O[0],v=O[1],C=Object(n.useContext)(g).user,w=Pe();return Object(I.jsxs)(p.a,{className:w.container,children:[Object(I.jsx)(P.a,{id:"standard-full-width",label:"Title",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:r,onChange:function(e){return i(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"Description",style:{margin:8},margin:"normal",multiline:!0,InputLabelProps:{shrink:!0},value:l,onChange:function(e){return u(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"Quantity",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:y,onChange:function(e){return v(e.target.value)}}),Object(I.jsx)(Ne.a,{control:Object(I.jsx)(Te.a,{checked:h,onChange:function(e){return m(e.target.checked)},name:"emergency"}),label:"Emergency Request"}),Object(I.jsxs)(p.a,{children:[Object(I.jsx)(U.a,{style:{margin:8,background:"#2196f3",color:"white"},onClick:function(){if(C){var e={org_id:C.uid,date:new Date,id:Object(Le.a)(),title:r,description:l,quantity:y,emergency:h};f.firestore.collection("requests").doc().set(e).then((function(){t()})).catch((function(e){console.error(e)}))}else console.log("Must be logged in to make a request")},children:"Make a Request"}),Object(I.jsx)(U.a,{style:{margin:8,background:"#2196f3",color:"white"},onClick:t,children:"Cancel"})]})]})},De=Object(x.a)((function(e){return{button:{marginTop:10,marginBottom:30}}}));var ze=function(){var e=De(),t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1],i=function(){r(!1)};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(Se.a,{open:c,children:[Object(I.jsx)(ke.a,{style:{background:"#ffed03",color:"#2196f3"},children:"Make a Request"}),Object(I.jsx)(Ie.a,{style:{background:"#ffed03"},children:Object(I.jsx)(Be,{handleClose:i})})]}),Object(I.jsx)(q.a,{in:!0,timeout:500,children:Object(I.jsx)(U.a,{className:e.button,color:"secondary",onClick:function(){r(!0)},onClose:i,children:"Make a Request"})})]})},Ee=Object(x.a)({container:{display:"flex",flexDirection:"column"},button:{margin:10,marginTop:30}});var Re=function(e){var t=e.handleClose,a=Object(n.useState)(""),c=Object(d.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),l=s[0],u=s[1],j=Object(n.useState)(""),b=Object(d.a)(j,2),h=b[0],m=b[1],x=Object(n.useState)(""),O=Object(d.a)(x,2),y=(O[0],O[1],Object(n.useContext)(g).user),v=Ee();return Object(I.jsxs)(p.a,{className:v.container,children:[Object(I.jsx)(P.a,{id:"standard-full-width",label:"Donation Item",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:r,onChange:function(e){return i(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"Description",style:{margin:8},margin:"normal",multiline:!0,InputLabelProps:{shrink:!0},value:l,onChange:function(e){return u(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"Quantity",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:h,onChange:function(e){return m(e.target.value)}}),Object(I.jsxs)(p.a,{children:[Object(I.jsx)(U.a,{className:v.button,style:{margin:8,background:"#2196f3",color:"white"},onClick:function(){if(y){var e={donor_id:y.uid,date:new Date,id:Object(Le.a)(),title:r,description:l,quantity:h,imgURL:"https://source.unsplash.com/400x200/?".concat(r)};f.firestore.collection("offers").doc().set(e).then((function(){t()})).catch((function(e){console.error(e)}))}else console.log("Must be logged in to make a donation")},children:"Submit"}),Object(I.jsx)(U.a,{className:v.button,style:{margin:8,background:"#2196f3",color:"white"},onClick:t,children:"Cancel"})]})]})},Fe=Object(x.a)((function(e){return{button:{marginTop:10,marginBottom:30}}}));var Me=function(){var e=Fe(),t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1],i=function(){r(!1)};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(Se.a,{open:c,children:[Object(I.jsx)(ke.a,{style:{background:"#ffed03",color:"#2196f3"},children:"Make a Donation"}),Object(I.jsx)(Ie.a,{style:{background:"#ffed03"},children:Object(I.jsx)(Re,{handleClose:i})})]}),Object(I.jsx)(q.a,{in:!0,timeout:500,children:Object(I.jsx)(U.a,{className:e.button,color:"secondary",onClick:function(){r(!0)},onClose:i,children:"Make a Donation"})})]})},Ue=Object(x.a)((function(e){return{field:{marginTop:10,marginBottom:10,display:"block"},formControl:{margin:e.spacing(1),minWidth:120,marginLeft:0,marginBottom:20},switch:{marginTop:20}}})),Ae=function(){var e=Ue(),t=Object(n.useContext)(g).userInfo,a=Object(n.useState)(""),c=Object(d.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(!1),s=Object(d.a)(o,2),l=s[0],u=s[1];return Object(I.jsxs)(p.a,{children:[Object(I.jsxs)("div",{style:{paddingLeft:24,marginBottom:20},children:[Object(I.jsx)(ae.a,{children:Object(I.jsx)(O.a,{className:e.switch,variant:"overline",children:Object(I.jsxs)(F.a,{component:"label",container:!0,alignItems:"center",spacing:1,children:[Object(I.jsx)(F.a,{item:!0,children:"Requests"}),Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(ne.a,Object(te.a)({checked:l,color:"primary",onChange:function(){u((function(e){return!e}))},name:"search-type"},"color","primary"))}),Object(I.jsx)(F.a,{item:!0,children:"Donations"})]})})}),Object(I.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),console.log("submit",r)},children:Object(I.jsx)(P.a,{className:e.field,label:"Search by Item Name",color:"secondary",onChange:function(e){return i(e.target.value)}})})]}),Object(I.jsx)("div",{style:{paddingLeft:24,marginBottom:20},children:t&&t.uid?l?"user"===t.type?Object(I.jsx)(Me,{children:"Make a Donation"}):Object(I.jsx)(I.Fragment,{}):"org"===t.type?Object(I.jsx)(ze,{children:"Make a Request"}):Object(I.jsx)(I.Fragment,{}):Object(I.jsx)(I.Fragment,{})}),l?Object(I.jsx)(xe,{searchTerm:r}):Object(I.jsx)(we,{searchTerm:r})]})},_e=a(227),qe=a(110),We=a.n(qe),He=a(8),Ge=Object(x.a)({container:{display:"flex",flexDirection:"column"},buttonContainer:{display:"flex",flexDirection:"row",justifyContent:"center"}});var Je=function(e){var t=e.handleClose,a=Object(n.useContext)(g),c=a.userInfo,r=a.setUserInfo,i=Object(n.useState)(c.name),o=Object(d.a)(i,2),s=o[0],l=o[1],u=Object(n.useState)(c.phone),j=Object(d.a)(u,2),b=j[0],h=j[1],m=Object(n.useState)(c.zipcode),x=Object(d.a)(m,2),O=x[0],y=x[1],v=Object(n.useState)(c.bio),C=Object(d.a)(v,2),w=C[0],S=C[1],k=Object(n.useState)(c.photo_url),N=Object(d.a)(k,2),T=N[0],L=N[1],B=Ge();return Object(I.jsxs)(p.a,{className:B.container,children:[Object(I.jsx)(P.a,{id:"standard-full-width",label:"Name",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:s,onChange:function(e){return l(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"Phone",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:b,onChange:function(e){return h(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"Zip",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:O,onChange:function(e){return y(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"Bio",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:w,onChange:function(e){return S(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"Photo",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:T,onChange:function(e){return L(e.target.value)}}),Object(I.jsxs)(p.a,{className:B.buttonContainer,children:[Object(I.jsx)(U.a,{style:{margin:8,background:"#2196f3",color:"white"},onClick:function(){f.firestore.collection("users").where("uid","==",c.uid).get().then((function(e){var t=e.docs[0].id;f.firestore.collection("users").doc(t).update({name:s,phone:b,zipcode:O,bio:w,photo_url:T}).then((function(){console.log("Document successfully updated!"),r({name:s,phone:b,zipcode:O,bio:w,photo_url:T,email:c.email,uid:c.uid})})).catch((function(e){return console.log(e.message)}))})).catch((function(e){return console.log(e.message)}))},children:"Update"}),Object(I.jsx)(U.a,{style:{margin:8,background:"#2196f3",color:"white"},onClick:t,children:"Cancel"})]})]})},Ve=Object(x.a)({container:{display:"flex",flexDirection:"column"}});var Ye=function(e){var t=e.handleClose,a=Object(n.useContext)(g),c=a.userInfo,r=a.setUserInfo,i=Object(n.useState)(c.name),o=Object(d.a)(i,2),s=o[0],l=o[1],u=Object(n.useState)(c.phone),j=Object(d.a)(u,2),b=j[0],h=j[1],m=Object(n.useState)(c.address),x=Object(d.a)(m,2),O=x[0],y=x[1],v=Object(n.useState)(c.city),C=Object(d.a)(v,2),w=C[0],S=C[1],k=Object(n.useState)(c.state),N=Object(d.a)(k,2),T=N[0],L=N[1],B=Object(n.useState)(c.zipcode),D=Object(d.a)(B,2),z=D[0],E=D[1],R=Object(n.useState)(c.bio),F=Object(d.a)(R,2),M=F[0],A=F[1],_=Object(n.useState)(c.url),q=Object(d.a)(_,2),W=q[0],H=q[1],G=Object(n.useState)(c.photo_url),J=Object(d.a)(G,2),V=J[0],Y=J[1],K=Ve();return Object(I.jsxs)(p.a,{className:K.container,children:[Object(I.jsx)(P.a,{id:"standard-full-width",label:"Name",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:s,onChange:function(e){return l(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"Phone",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:b,onChange:function(e){return h(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"Address",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:O,onChange:function(e){return y(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"City",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:w,onChange:function(e){return S(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"State",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:T,onChange:function(e){return L(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"Zip",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:z,onChange:function(e){return E(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"Bio",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:M,onChange:function(e){return A(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"URL",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:W,onChange:function(e){return H(e.target.value)}}),Object(I.jsx)(P.a,{id:"standard-full-width",label:"Photo",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:V,onChange:function(e){return Y(e.target.value)}}),Object(I.jsxs)(p.a,{children:[Object(I.jsx)(U.a,{variant:"contained",color:"primary",onClick:function(){f.firestore.collection("organizations").where("uid","==",c.uid).get().then((function(e){var t=e.docs[0].id;f.firestore.collection("organizations").doc(t).update({name:s,phone:b,address:O,city:w,state:T,zipcode:z,bio:M,url:W,photo_url:V}).then((function(){console.log("Document successfully updated!"),r({name:s,phone:b,address:O,city:w,state:T,zipcode:z,bio:M,url:W,photo_url:V,email:c.email,uid:c.uid})})).catch((function(e){return console.log(e.message)}))})).catch((function(e){return console.log(e.message)}))},children:"Update"}),Object(I.jsx)(U.a,{onClick:t,color:"primary",children:"Cancel"})]})]})},Ke=Object(He.a)((function(e){return{badge:{bottom:50,right:20,padding:"0 4px",height:55,width:55,borderRadius:100,color:"#FFB341"}}}))(_e.a);var Qe=function(e){var t=e.data,a=e.edit,c=Object(n.useState)(!1),r=Object(d.a)(c,2),i=r[0],o=r[1],s=function(){o(!1)};return Object(I.jsxs)("div",{style:{border:"8px solid #ffff57",borderRadius:"100%"},children:[Object(I.jsxs)(Se.a,{open:i,children:[Object(I.jsx)(ke.a,{style:{background:"#ffed03",color:"#2196f3"},children:"Edit Profile"}),Object(I.jsx)(Ie.a,{style:{background:"#ffed03",color:"#2196f3"},children:"user"===t.type?Object(I.jsx)(Je,{handleClose:s}):Object(I.jsx)(Ye,{handleClose:s})})]}),!0===a?Object(I.jsx)(Ke,{color:"primary",badgeContent:Object(I.jsx)(We.a,{style:{color:"#6ec6ff",fontSize:"45px"},onClick:function(){o(!0)},onClose:s}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(I.jsx)(J.a,{alt:t.name,src:t.photo_url,style:{border:"5px solid rgb(255, 0, 0, 0)",height:"250px",width:"250px"}})}):Object(I.jsx)(J.a,{alt:t.name,src:t.photo_url,style:{border:"5px solid rgb(255, 0, 0, 0)",height:"250px",width:"250px"}})]})};var Xe=function(e){var t=e.data,a=ie.a.lookup(t.zipcode),c=Object(n.useContext)(g).userInfo;return Object(I.jsxs)(F.a,{item:!0,container:!0,justify:"flex-end",spacing:8,align:"center",children:[c&&c.uid===t.uid?null:Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(u.b,{to:{pathname:"/chat/".concat(t.uid),state:{userId:t.uid}},children:Object(I.jsx)(ue.a,{"aria-label":"chat",children:Object(I.jsx)(de.a,{})})},"chat")}),Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(O.a,{color:"textSecondary",style:{paddingRight:"60px",borderRight:"2px solid black"},children:t.email})}),Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(O.a,{color:"textSecondary",style:{paddingRight:"60px",borderRight:"2px solid black"},children:t.phone})}),Object(I.jsx)(F.a,{item:!0,style:{marginRight:"40px"},children:a?Object(I.jsxs)(O.a,{color:"textSecondary",children:[a.city,", ",a.state]}):""})]})},Ze=a.p+"static/media/profileBackground.1c411a41.jpg",$e=Object(o.a)({typography:{htmlFontSize:6,fontFamily:["Pattaya","sans-serif"].join(",")}});var et=function(e){var t=e.data,a=e.edit;return Object(I.jsxs)(F.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch",children:[Object(I.jsx)(F.a,{item:!0,container:!0,direction:"row",style:{backgroundImage:"url(".concat(Ze,")"),height:"222px"},children:Object(I.jsx)(F.a,{style:{position:"relative",top:"60px",left:"50px"},children:Object(I.jsx)(Qe,{data:t,edit:a})})}),Object(I.jsxs)(F.a,{container:!0,direction:"row",item:!0,style:{backgroundColor:"primary",height:"118px"},children:[Object(I.jsx)(F.a,{item:!0,md:3,lg:2}),Object(I.jsx)(F.a,{item:!0,md:3,lg:4,container:!0,alignItems:"center",children:Object(I.jsx)(s.a,{theme:$e,children:Object(I.jsx)(O.a,{style:{paddingLeft:"80px"},children:t.name})})}),Object(I.jsx)(F.a,{item:!0,md:6,lg:6,container:!0,alignItems:"center",children:Object(I.jsx)(Xe,{data:t})})]})]})},tt=Object(o.a)({typography:{htmlFontSize:18,fontFamily:["Pattaya","sans-serif"].join(",")}});var at=function(e){var t=e.data,a=e.edit;return Object(I.jsx)("div",{style:{backgroundColor:"primary",height:"60vh"},children:Object(I.jsxs)(F.a,{style:{paddingTop:"40px",paddingLeft:"30px",paddingRight:"20px"},children:[Object(I.jsx)(s.a,{theme:tt,children:Object(I.jsx)(O.a,{variant:"h5",children:"About Me:"})}),Object(I.jsx)(O.a,{children:t.bio}),"org"===t.type?Object(I.jsxs)("div",{children:[Object(I.jsx)(s.a,{theme:tt,children:Object(I.jsx)(O.a,{style:{paddingTop:"20px"},variant:"h5",children:"Address:"})}),Object(I.jsx)(O.a,{children:"".concat(t.address,", ").concat(t.city,", ").concat(t.state," ").concat(t.zipcode)}),Object(I.jsx)(s.a,{theme:tt,children:Object(I.jsx)(O.a,{style:{paddingTop:"20px"},variant:"h5",children:"Website:"})}),Object(I.jsx)(O.a,{children:Object(I.jsx)("a",{style:{color:"inherit"},rel:"noreferrer",target:"_blank",href:t.url,children:"Link to ".concat(t.name," Website")})})]}):null,a&&"user"===t.type?Object(I.jsx)(F.a,{item:!0,alignItems:"flex-end",justify:"flex-start",children:Object(I.jsx)(Me,{})}):null,a&&"org"===t.type?Object(I.jsx)(F.a,{item:!0,alignItems:"flex-end",justify:"flex-start",children:Object(I.jsx)(ze,{})}):null]})})};var nt=function(e){var t=e.data;return Object(I.jsx)("div",{style:{backgroundColor:"#FFB341",height:"80vh",borderRadius:"15px 0px 0px 0px",padding:"40px"},children:"user"===t.type?Object(I.jsx)(xe,{uid:t.uid}):Object(I.jsx)(we,{uid:t.uid})})},ct=function(e){var t=e.data,a=e.edit;return Object(I.jsxs)(F.a,{container:!0,direction:"row",alignItems:"stretch",children:[Object(I.jsx)(F.a,{item:!0,xs:6,md:3,lg:2,children:Object(I.jsx)(at,{data:t,edit:a})}),Object(I.jsx)(F.a,{item:!0,xs:6,md:9,lg:10,children:Object(I.jsx)(nt,{data:t})})]})};var rt=function(){var e=Object(j.f)(),t=Object(n.useContext)(g),a=t.userInfo,c=(t.setUserInfo,Object(n.useState)(a)),r=Object(d.a)(c,2),i=r[0],o=r[1];Object(n.useEffect)((function(){"user"===e.state.type?f.firestore.collection("users").where("uid","==",e.state.userId).get().then((function(e){e.forEach((function(e){o(e.data())}))})).catch((function(e){return console.log(e.message)})):"charity"===e.state.type&&f.firestore.collection("organizations").where("uid","==",e.state.userId).get().then((function(e){e.forEach((function(e){o(e.data())}))})).catch((function(e){return console.log(e.message)}))}),[e.state,a]);var s=function(){return!(!a||a.uid!==e.state.userId)},l=function(){return"user"===e.state.type};return Object(I.jsxs)(F.a,{container:!0,direction:"column",justify:"center",alignItems:"stretch",children:[i?Object(I.jsx)(et,{data:i,edit:s(),location:l()}):null,i?Object(I.jsx)(ct,{data:i,edit:s(),location:l()}):null]})},it=a(231),ot=a(230),st=a(112),lt=a.n(st),dt=Object(x.a)({ModalContainer:{display:"flex",flexDirection:"column"},buttonContainer:{display:"flex",flexDirection:"row",justifyContent:"center"}});var ut=function(e){var t=e.handleClose,a=Object(n.useState)(""),c=Object(d.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),l=s[0],u=s[1],j=dt();return Object(I.jsxs)(p.a,{className:j.ModalContainer,children:[Object(I.jsx)(P.a,{color:"secondary",id:"standard-full-width",label:"Email",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:r,onChange:function(e){return i(e.target.value)}}),Object(I.jsx)(P.a,{color:"secondary",id:"standard-full-width",label:"Password",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:l,onChange:function(e){return u(e.target.value)},type:"password"}),Object(I.jsxs)(p.a,{className:j.buttonContainer,style:{marginTop:20},children:[Object(I.jsx)(U.a,{style:{margin:8,background:"#2196f3",color:"white"},onClick:function(){f.auth.signInWithEmailAndPassword(r,l).then((function(){t()})).catch((function(e){var t=e.code,a=e.message;console.log(t,a)}))},children:"Login"}),Object(I.jsx)(U.a,{style:{margin:8,background:"#2196f3",color:"white"},onClick:t,children:"Cancel"})]})]})};var jt=function(){var e=Object(b.a)(f.auth),t=Object(d.a)(e,1)[0],a=(Object(n.useContext)(g).userInfo,Object(n.useState)(!1)),c=Object(d.a)(a,2),r=c[0],i=c[1],o=function(){i(!1)};return!t&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(Se.a,{open:r,children:[Object(I.jsx)(ke.a,{style:{background:"#ffed03",color:"#2196f3",textAlign:"center"},children:"Login"}),Object(I.jsx)(Ie.a,{style:{background:"#ffed03"},children:Object(I.jsx)(ut,{handleClose:o})})]}),Object(I.jsx)(U.a,{style:{color:"#0069c0"},onClick:function(){i(!0)},onClose:o,children:"Login"})]})};var bt=function(){var e=Object(b.a)(f.auth);return Object(d.a)(e,1)[0]&&Object(I.jsx)("div",{children:Object(I.jsx)(U.a,{style:{color:"#0069c0"},onClick:function(){return f.auth.signOut()},color:"secondary",children:"Signout"})})},ht=Object(x.a)({container:{display:"flex",flexDirection:"column"},buttonContainer:{display:"flex",flexDirection:"row",justifyContent:"center"}});var mt=function(e){var t=e.handleClose,a=Object(n.useState)(""),c=Object(d.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),l=s[0],u=s[1],j=Object(n.useState)(""),b=Object(d.a)(j,2),h=b[0],m=b[1],g=Object(n.useState)(""),x=Object(d.a)(g,2),O=x[0],y=x[1],v=Object(n.useState)(""),C=Object(d.a)(v,2),w=C[0],S=C[1],k=Object(n.useState)(""),N=Object(d.a)(k,2),T=N[0],L=N[1],B=ht();return Object(I.jsxs)(p.a,{className:B.container,children:[Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"Name",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:r,onChange:function(e){return i(e.target.value)}}),Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"Email",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:l,onChange:function(e){return u(e.target.value)}}),Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"City (e.g. Austin)",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:h,onChange:function(e){return m(e.target.value)}}),Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"State (e.g. TX)",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:O,onChange:function(e){return y(e.target.value)}}),Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"ZIP",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:w,onChange:function(e){return S(e.target.value)}}),Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"Password",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:T,onChange:function(e){return L(e.target.value)},helperText:"Password must be at least 6 characters",type:"password"}),Object(I.jsxs)(p.a,{className:B.buttonContainer,children:[Object(I.jsx)(U.a,{style:{margin:8,background:"#2196f3",color:"white",marginTop:20},onClick:function(){f.auth.createUserWithEmailAndPassword(l,T).then((function(e){var a={uid:e.user.uid,name:r,email:l,city:h,state:O,zip:w,phone:"",photo_url:"https://images.unsplash.com/photo-1556208738-7a57e7b96aed?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1491&q=80",bio:"",type:"user"};f.firestore.collection("users").doc().set(a).then((function(){t()}))})).catch((function(e){var t=e.code,a=e.message;console.log(t,a)}))},children:"Sign Up"}),Object(I.jsx)(U.a,{style:{margin:8,background:"#2196f3",color:"white",marginTop:20},onClick:t,children:"Cancel"})]})]})},ft=Object(x.a)((function(e){return{button:{backgroundColor:"#ffffff"},title:{textAlign:"center"}}}));var gt=function(e){var t=e.closeMenu,a=ft(),c=(Object(n.useContext)(g).userInfo,Object(n.useState)(!1)),r=Object(d.a)(c,2),i=r[0],o=r[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(Se.a,{open:i,children:[Object(I.jsx)(ke.a,{className:a.title,style:{background:"#ffed03",color:"#2196f3"},children:"Join as a Donor"}),Object(I.jsx)(Ie.a,{style:{background:"#ffed03"},children:Object(I.jsx)(mt,{handleClose:function(){o(!1),t()}})})]}),Object(I.jsx)(U.a,{fullWidth:!0,className:a.button,disableElevation:!0,style:{color:"#2196f3"},onClick:function(){o(!0)},children:"Donor"})]})},xt=Object(x.a)({container:{display:"flex",flexDirection:"column"}});var pt=function(e){var t=e.handleClose,a=Object(n.useState)(""),c=Object(d.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),l=s[0],u=s[1],j=Object(n.useState)(""),b=Object(d.a)(j,2),h=b[0],m=b[1],g=Object(n.useState)(""),x=Object(d.a)(g,2),O=x[0],y=x[1],v=Object(n.useState)(""),C=Object(d.a)(v,2),w=C[0],S=C[1],k=Object(n.useState)(""),N=Object(d.a)(k,2),T=N[0],L=N[1],B=Object(n.useState)(""),D=Object(d.a)(B,2),z=D[0],E=D[1],R=Object(n.useState)(""),F=Object(d.a)(R,2),M=F[0],A=F[1],_=Object(n.useState)(""),q=Object(d.a)(_,2),W=(q[0],q[1]),H=Object(n.useState)(""),G=Object(d.a)(H,2),J=G[0],V=G[1],Y=xt();return Object(I.jsxs)(p.a,{className:Y.container,children:[Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"Organization Name",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:r,onChange:function(e){return i(e.target.value)}}),Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"Charity Theme",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:M,onChange:function(e){return W(e.target.value)}}),Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"Email",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:l,onChange:function(e){return u(e.target.value)}}),Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"Password",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:J,onChange:function(e){return V(e.target.value)},type:"password"}),Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"Phone Number",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:h,onChange:function(e){return m(e.target.value)}}),Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"Address",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:O,onChange:function(e){return y(e.target.value)}}),Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"City (e.g. Austin)",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:w,onChange:function(e){return S(e.target.value)}}),Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"State (e.g. TX)",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:T,onChange:function(e){return L(e.target.value)}}),Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"ZIP",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:z,onChange:function(e){return E(e.target.value)}}),Object(I.jsx)(P.a,{color:"secondary",className:"standard-full-width",label:"Organization URL",style:{margin:8},margin:"normal",InputLabelProps:{shrink:!0},value:M,onChange:function(e){return A(e.target.value)}}),Object(I.jsxs)(p.a,{children:[Object(I.jsx)(U.a,{style:{margin:8,background:"#2196f3",color:"white"},onClick:function(){f.auth.createUserWithEmailAndPassword(l,J).then((function(e){var a={uid:e.user.uid,name:r,search_name:r.toLowerCase().split(" ").concat([r.toLowerCase()]),email:l,address:O,city:w,state:T,zip:z,phone:h,photo_url:"",bio:"",type:"org"};f.firestore.collection("organizations").doc().set(a).then((function(){t()}))})).catch((function(e){var t=e.code,a=e.message;console.log(t,a)}))},children:"Sign Up"}),Object(I.jsx)(U.a,{onClick:t,style:{margin:8,background:"#2196f3",color:"white"},children:"Cancel"})]})]})},Ot=Object(x.a)((function(e){return{button:{backgroundColor:"#ffffff"},title:{textAlign:"center"}}}));var yt=function(e){var t=e.closeMenu,a=Ot(),c=Object(n.useState)(!1),r=Object(d.a)(c,2),i=r[0],o=r[1],s=function(){o(!1),t()};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(Se.a,{open:i,children:[Object(I.jsx)(ke.a,{className:a.title,style:{background:"#ffed03",color:"#2196f3"},children:"Join as an Organization"}),Object(I.jsx)(Ie.a,{style:{background:"#ffed03"},children:Object(I.jsx)(pt,{handleClose:s})})]}),Object(I.jsx)(U.a,{fullWidth:!0,className:a.button,disableElevation:!0,color:"secondary",onClick:function(){o(!0)},onClose:s,children:"Charity"})]})},vt=a(229),Ct=a(122),wt=a(218),St=Object(x.a)((function(e){return{MuiTypography:{fontSize:16},menulist:{maxWidth:100,position:"relative",left:11,top:5,zIndex:2},popper:{position:"absolute",zIndex:2}}})),kt=function(){var e=St(),t=Object(n.useContext)(g).userInfo,a=Object(n.useState)(!1),c=Object(d.a)(a,2),r=c[0],i=c[1],o=Object(n.useRef)(null),s=function(){i((function(e){return!e}))};return Object(I.jsx)(I.Fragment,{children:null!==t?Object(I.jsx)(O.a,{color:"primary",className:e.MuiTypography,children:"Hello ".concat(t.name,"!")}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(U.a,{style:{color:"#0069c0"},ref:o,color:"secondary","aria-controls":r?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:s,children:"Sign Up"}),Object(I.jsx)(vt.a,{className:e.popper,open:r,anchorEl:o.current,children:Object(I.jsx)(Ct.a,{className:e.menulist,children:Object(I.jsxs)(wt.a,{autoFocusItem:r,id:"menu-list-grow",children:[Object(I.jsx)(gt,{closeMenu:s,children:" Donor"}),Object(I.jsx)(yt,{closeMenu:s,children:"Charity"})]})})})]})})},It=Object(x.a)((function(e){return{root:{flexGrow:1,marginBottom:150},toolbar:{display:"flex",flexDirection:"row",justifyContent:"space-between"},toolbarTitle:{flex:1},toolbarSecondary:{justifyContent:"space-between",overflowX:"auto",borderBottom:"2px solid white"},toolbarLink:{padding:e.spacing(1),flexShrink:0},signup:{position:"absolute",zIndex:2},appbar:{zIndex:1},navtexts:{fontSize:"0.9em"}}}));function Nt(e){var t=It(),a=e.title,c=Object(n.useContext)(g),r=c.userInfo,i=c.newMessagesCount,o={color:"black",textDecoration:"none"};return Object(I.jsx)(p.a,{children:Object(I.jsx)("div",{className:t.root,children:Object(I.jsxs)(ot.a,{position:"fixed",style:{boxShadow:"none",background:"#6ec6ff"},className:t.appbar,children:[Object(I.jsxs)(it.a,{className:t.toolbar,children:[Object(I.jsx)(kt,{className:t.signup}),Object(I.jsx)(O.a,{className:t.navtexts,component:"h2",variant:"h5",color:"inherit",align:"center",noWrap:!0,style:{justifyContent:"center"},children:Object(I.jsx)(u.b,{to:"/",style:{color:"white",textDecoration:"none",fontFamily:"'Pattaya', sans-serif",fontSize:"45px"},children:a},"homepage")}),Object(I.jsx)(jt,{}),Object(I.jsx)(bt,{})]}),Object(I.jsxs)(it.a,{component:"nav",variant:"dense",className:t.toolbarSecondary,children:[Object(I.jsx)("div",{children:r&&Object(I.jsx)(u.b,{to:{pathname:"/profile/".concat(r.uid),state:{userId:r.uid,type:"user"}},style:o,children:Object(I.jsx)(O.a,{className:t.navtexts,variant:"overline",children:"Profile"})},"profile")}),Object(I.jsx)(u.b,{to:"/donations",style:o,children:Object(I.jsx)(O.a,{className:t.navtexts,variant:"overline",children:"Listings"})},"donations"),Object(I.jsx)(u.b,{to:"/charities",style:o,children:Object(I.jsx)(O.a,{className:t.navtexts,variant:"overline",children:"Charities"})},"charities"),Object(I.jsx)("div",{children:r&&Object(I.jsx)(u.b,{to:{pathname:"/chat/".concat(r.uid),state:{userId:r.uid}},style:o,children:Object(I.jsx)(_e.a,{badgeContent:i,color:"primary",children:Object(I.jsx)(lt.a,{})})},"chat")})]})]})})})}var Tt=Object(x.a)((function(e){return{mainFeaturedPost:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:e.spacing(4),backgroundImage:"url(https://source.unsplash.com/random)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.3)"},mainFeaturedPostContent:Object(te.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0})}}));function Lt(e){var t=Tt(),a=e.post;return Object(I.jsxs)(Ct.a,{className:t.mainFeaturedPost,style:{backgroundImage:"url(".concat(a.image,")")},children:[Object(I.jsx)("img",{style:{display:"none"},src:a.image,alt:a.imageText}),Object(I.jsx)("div",{className:t.overlay}),Object(I.jsx)(F.a,{container:!0,children:Object(I.jsx)(F.a,{item:!0,md:6,children:Object(I.jsxs)("div",{className:t.mainFeaturedPostContent,children:[Object(I.jsx)(O.a,{component:"h1",variant:"h3",color:"inherit",style:{fontFamily:"'Satisfy', cursive"},gutterBottom:!0,children:a.title}),Object(I.jsx)(O.a,{variant:"h5",color:"inherit",style:{fontFamily:"'Halant', serif",fontSize:20},paragraph:!0,children:a.description})]})})})]})}var Pt=a(239),Bt=Object(x.a)({card:{display:"flex",marginBottom:20,height:250},cardDetails:{flex:1},cardMedia:{width:180}});function Dt(e){var t=Bt(),a=e.post;return Object(I.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(I.jsxs)(W.a,{className:t.card,children:[Object(I.jsx)("div",{className:t.cardDetails,children:Object(I.jsxs)(V.a,{children:[Object(I.jsx)(O.a,{component:"h2",variant:"h5",style:{fontFamily:"'Halant', serif",marginBottom:5},children:Object(I.jsx)("b",{children:a.title})}),Object(I.jsx)(O.a,{variant:"subtitle1",style:{fontSize:14},children:a.description})]})}),Object(I.jsx)(Pt.a,{xsDown:!0,children:Object(I.jsx)(je.a,{className:t.cardMedia,image:a.image,title:a.imageTitle})})]})})}var zt=a.p+"static/media/profileImage.7c1f0931.jpg",Et={title:"Support Causes You Care About",description:"Common Good is an alliance of more than 50 of Austin's best charities. Our 501(c)(3) high-impact nonprofit members are reviewed annually and must meet specific eligibility criteria before they\u2019re approved for membership. Select Charities above to learn more about our nonprofit members' work and learn how you can support them.",image:"https://communityimpact.com/wp-content/uploads/2016/12/Fotolia_112023896_Subscription_XXL.jpg",imgText:"main image description"},Rt=[{title:"Welcome to our newest donor!",description:"John has lived in Austin his whole life and has often worked with local charities to improve his community. His favorite charity to work with is Classroom for All, he has been donating and volunteering for this organization over the past 5 years! Let's give John a warm welcome!",image:zt,imageText:"Image Text"},{title:"Charity of The Month",description:"Congratulations Operation Blue Santa! In 2020, they provided food cards and toy gift cards for families in need during the holiday season. Their service began with about 20 needy families, in 2020 they easily served over 8,000 families. This is only possible because of the goodwill and big hearts of Austin\u2019s citizens, businesses, and civic groups that supported them.",image:"https://cbsaustin.com/resources/media/ec2b0f93-831b-4441-aca6-3304d5973ce6-large16x9_BlueSantaSponsorship.png?1601053591239",imageText:"Image Text"},{title:"Annual Summer Cleanup",description:"It's that time of year again! Come join the other volunteers in our community to clean up our favorite public parks and lakes. Last year we had 15 volunteers and this year our goal is to have 35! Let's make this summer the best one yet! ",image:"https://austin.com/wp-content/uploads/2020/01/67151026_10157135166007860_6253455525229363200_n.jpg.jpg",imageText:"Image Text"},{title:"Upcoming Events",description:"July 4 - Fourth Of July Charity Block Party! \n July 16 - Movie Night In The Park \n August 1 - Back To School Clothes Drive",image:"http://3.bp.blogspot.com/-4iX9K6hf5mI/Umvbme2DRfI/AAAAAAAAAMU/aVVp14UD9H8/s1600/Happy-Kids_2.jpg",imageText:"Image Text"}];var Ft=function(){return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(p.a,{maxWidth:"lg",children:Object(I.jsxs)("main",{children:[Object(I.jsx)(Lt,{post:Et}),Object(I.jsx)(F.a,{container:!0,spacing:4,children:Rt.map((function(e){return Object(I.jsx)(Dt,{post:e},e.title)}))})]})})})},Mt=a(95),Ut=a.n(Mt),At=a(113),_t=a(236),qt=a(114);_t.a.addDefaultLocale(qt);var Wt=new _t.a("en-US"),Ht=Object(x.a)((function(){return{message:{margin:"10px",minWidth:"auto",minHeight:"70px",alignSelf:"flex-start"},messageRight:{margin:"10px",minHeight:"70px",alignSelf:"flex-end"},sent:{background:"#2196f3",justify:"flex-end"},received:{background:"#ffed03"},invisible:{visibility:"hidden"}}}));var Gt=function(e){var t=e.message,a=e.otherUser,c=Object(n.useContext)(g).userInfo,r=t.text,i=t.uid,o=t.createdAt,s=t.recieverId,l=f.auth.currentUser,d=Ht(),u="";return a?i===l.uid&&s===a.id?(u="sent",c&&Object(I.jsx)(W.a,{className:d.messageRight,children:Object(I.jsxs)(V.a,{className:d[u],children:[Object(I.jsxs)(O.a,{variant:"caption",color:"textSecondary",children:[c.name," \u2022 ",Wt.format(o.toDate(),"mini")]}),Object(I.jsx)(O.a,{variant:"body1",children:r})]})})):i===a.id?(u="received",c&&Object(I.jsx)(W.a,{className:d.message,children:Object(I.jsxs)(V.a,{className:d[u],children:[Object(I.jsxs)(O.a,{variant:"caption",color:"textSecondary",children:[a.name," \u2022 ",Wt.format(o.toDate(),"mini")]}),Object(I.jsx)(O.a,{variant:"body1",children:r})]})})):null:null},Jt=a(157),Vt=a(158),Yt=a(232),Kt=a(233),Qt=a(234),Xt=a(115),Zt=a.n(Xt);var $t=function(e){var t=e.setOtherUser,a=e.otherUser,c=e.relevantMessages,r=Object(n.useState)([]),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(n.useState)([]),u=Object(d.a)(l,2),j=u[0],b=u[1],h=Object(n.useState)(null),m=Object(d.a)(h,2),f=m[0],x=m[1],p=Object(n.useContext)(g),O=p.user,y=p.userInfo;return Object(n.useEffect)((function(){if(y){var e=new Set,t=new Set;c.forEach((function(a){a.uid!==O.uid?(e.add(a.user),t.add(a.uid)):(e.add(a.recieverName),t.add(a.recieverId))})),a&&!e.has(a.name)&&(console.log("No message history, adding sidebar tab"),e.add(a.name),t.add(a.id)),s(Object(R.a)(e)),b(Object(R.a)(t))}}),[c,O.uid,y,a]),Object(I.jsx)("div",{children:Object(I.jsx)(Jt.a,{children:o.map((function(e,n){var c=!1;return f!==n&&a.name!==e||(c=!0),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(Vt.a,{button:!0,selected:c,onClick:function(){return function(e,a,n){x(n),t({name:e,id:a})}(e,j[n],n)},children:[Object(I.jsx)(Yt.a,{children:Object(I.jsx)(J.a,{children:Object(I.jsx)(Zt.a,{color:"secondary"})})}),Object(I.jsx)(Kt.a,{primary:e})]}),Object(I.jsx)(Qt.a,{})]})}))})})},ea=Object(x.a)((function(){return{appContainer:{display:"flex",flexDirection:"row",background:"#FAF9F6"},chatContainer:{borderLeftWidth:"2px",justify:"center",padding:"7px"},formContainer:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",margin:"10px"},messagesContainer:{display:"flex",flexDirection:"column",minHeight:"500px",maxHeight:"500px",overflow:"auto",borderRadius:"5px"},submitButton:{margin:"0 0 0 10px"},textField:{maxWidth:"400px",minWidth:"400px"}}}));var ta=function(e){var t=e.otherUser,a=e.setOtherUser,c=Object(n.useState)(""),r=Object(d.a)(c,2),i=r[0],o=r[1],s=f.firestore.collection("messages"),l=Object(n.useContext)(g),u=l.userInfo,j=l.setNewMessagesCount,b=l.relevantMessages,h=ea();Object(n.useEffect)((function(){j(0)}),[]);var m=Object(n.useRef)(),x=function(){var e=Object(At.a)(Ut.a.mark((function e(a){var n,c,r;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),i){e.next=3;break}return e.abrupt("return");case 3:if(t){e.next=6;break}return console.error("No other user"),e.abrupt("return");case 6:return n=f.auth.currentUser,c=n.uid,r=n.photoURL,e.next=9,s.add({text:i,createdAt:new Date,uid:c,user:u.name,recieverId:t.id,recieverName:t.name,photoURL:r});case 9:o(""),m.current.scrollIntoView({behavior:"smooth"});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)(W.a,{children:Object(I.jsxs)(p.a,{className:h.appContainer,children:[Object(I.jsx)($t,{otherUser:t,setOtherUser:a,relevantMessages:b}),Object(I.jsxs)(p.a,{className:h.chatContainer,children:[Object(I.jsxs)("div",{className:h.messagesContainer,children:[b&&b.map((function(e){return Object(I.jsx)(Gt,{message:e,otherUser:t},e.id)})),Object(I.jsx)("div",{ref:m})]}),Object(I.jsx)(p.a,{className:h.formContainer,children:Object(I.jsxs)("form",{onSubmit:x,children:[Object(I.jsx)(P.a,{className:h.textField,value:i,onChange:function(e){return o(e.target.value)},variant:"outlined"}),Object(I.jsx)(U.a,{className:h.submitButton,type:"submit",variant:"contained",color:"primary",children:"Submit"})]})})]})]})})},aa=Object(x.a)((function(){return{pageContainer:{paddingTop:"50px"}}}));var na=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(j.f)().state.userId,i=Object(n.useContext)(g).user,o=aa();return Object(n.useEffect)((function(){i&&r&&r!==i.uid&&f.firestore.collection("users").where("uid","==",r).get().then((function(e){e.forEach((function(e){console.log("doc",e),c({id:e.data().uid,name:e.data().name})}))})).catch((function(e){return console.error(e.message)}))}),[r,i]),Object(n.useEffect)((function(){i&&r&&r!==i.uid&&f.firestore.collection("organizations").where("uid","==",r).get().then((function(e){e.forEach((function(e){console.log("doc",e),c({id:e.data().uid,name:e.data().name})}))})).catch((function(e){return console.error(e.message)}))}),[r,i]),Object(I.jsx)(p.a,{className:o.pageContainer,maxWidth:"md",children:Object(I.jsx)("div",{children:i?Object(I.jsx)(ta,{otherUser:a,setOtherUser:c}):Object(I.jsx)(gt,{})})})},ca=a(120),ra=a(117),ia=a.n(ra);function oa(e){var t=e.pic;return Object(I.jsx)(J.a,{src:t,style:{height:"30px",width:"30px",border:"2px solid rgb(33,150,243)"}})}function sa(e){var t=e.zip,a=e.pic;if(!t)return null;var n=ia.a.googleApiKey,c=ie.a.lookup(t),r=c.latitude,i=c.longitude,o={lat:r,lng:i};return Object(I.jsx)("div",{style:{width:"80%",height:"500px",display:"flex",margin:"auto",marginTop:"20px"},children:Object(I.jsx)(ca.a,{bootstrapURLKeys:{key:n},defaultCenter:o,defaultZoom:11,children:Object(I.jsx)(oa,{lat:r,lng:i,pic:a})})})}var la=Object(He.a)((function(e){return{badge:{bottom:50,right:20,padding:"0 4px",height:55,width:55,borderRadius:100,color:"#FFB341"}}}))(_e.a),da=Object(x.a)((function(e){return{root:{display:"flex",justifyContent:"center",margin:"auto"},image:{border:"2px solid black",height:250,maxWidth:450,display:"flex",justifyContent:"center",borderRadius:"20px",margin:20},offerSpacing:{padding:20},card:{width:1e3},avatar:{width:e.spacing(15),height:e.spacing(15),border:"5px solid rgb(255, 0, 0, 0)"},avi:{display:"flex","& > *":{margin:e.spacing(1)}},verticalSpacing:{marginTop:20,marginBottom:20},center:{alignItems:"center"},date:{display:"flex",justifyContent:"flex-end",paddingRight:40},bottom:{alignItems:"flex-end"},spacer:{marginTop:"200px"},chatButton:{display:"flex",justifyContent:"flex-end",alignItems:"center",paddingRight:40},title:{display:"flex",alignItems:"center"},height1:{paddingTop:15},height2:{paddingTop:20,paddingRight:20},height3:{position:"absolute",bottom:20},avatarSpacing:{paddingLeft:30},profileSpacing:{paddingLeft:40,paddingTop:10},descSpacing:{paddingTop:10},relative:{position:"relative"}}}));function ua(e){var t=e.doc,a=da(),c=(t.productId,t.userId),r=t.title,i=t.description,o=t.quantity,s=t.date,l=Wt.format(new Date(1e3*s.seconds)),j=t.imgURL||"https://source.unsplash.com/400x200/?".concat(r),b=Object(n.useState)({}),h=Object(d.a)(b,2),m=h[0],g=h[1];return Object(n.useEffect)((function(){f.firestore.collection("users").where("uid","==",c).get().then((function(e){e.forEach((function(e){g(e.data())}))})).catch((function(e){return console.log(e.message)}))}),[]),Object(I.jsx)(F.a,{item:!0,xs:12,className:a.root,children:Object(I.jsxs)(W.a,{className:a.card,children:[Object(I.jsxs)(F.a,{container:!0,direction:"row",children:[Object(I.jsx)(F.a,{item:!0,xs:6,children:j?Object(I.jsx)("img",{src:j,className:a.image}):Object(I.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTlHWg74rYh0ee1LQPLhyQxGFTxg4YBGMSUJQ&usqp=CAU",className:a.image})}),Object(I.jsx)(F.a,{container:!0,item:!0,xs:6,children:Object(I.jsxs)(F.a,{container:!0,direction:"column",className:a.relative,children:[Object(I.jsxs)(F.a,{container:!0,direction:"row",className:a.height1,children:[Object(I.jsx)(F.a,{item:!0,xs:6,className:a.title,children:Object(I.jsx)(O.a,{variant:"h3",children:r})}),Object(I.jsx)(F.a,{item:!0,xs:6,className:a.chatButton,children:Object(I.jsx)(u.b,{to:{pathname:"/chat/".concat(m.uid),state:{userId:m.uid}},children:Object(I.jsx)(ue.a,{"aria-label":"chat",children:Object(I.jsx)(de.a,{})})},"chat")})]}),Object(I.jsxs)(F.a,{item:!0,className:a.height2,children:[Object(I.jsx)(O.a,{variant:"body1",children:"Description:"}),Object(I.jsx)(O.a,{variant:"body2",color:"textSecondary",className:a.descSpacing,children:i})]}),Object(I.jsxs)(F.a,{container:!0,direction:"row",className:a.height3,children:[Object(I.jsx)(F.a,{item:!0,xs:6,children:Object(I.jsx)(O.a,{variant:"body2",color:"textSecondary",children:"Quantity: ".concat(o)})}),Object(I.jsx)(F.a,{item:!0,xs:6,className:a.date,children:Object(I.jsx)(O.a,{variant:"body2",color:"textSecondary",children:l})})]})]})})]}),m.zipcode?Object(I.jsx)(sa,{zip:m.zipcode,pic:m.photo_url}):null,m.bio?Object(I.jsxs)(F.a,{container:!0,direction:"row",className:a.verticalSpacing,children:[Object(I.jsx)(u.b,{to:{pathname:"/profile/".concat(m.uid),state:{userId:m.uid,type:"user"}},children:Object(I.jsx)("div",{style:{border:"8px solid #ffff57",borderRadius:"100%",marginLeft:"30px"},children:Object(I.jsx)(la,{color:"primary",children:Object(I.jsx)(J.a,{alt:m.name,src:m.photo_url,style:{border:"5px solid rgb(255, 0, 0, 0)",height:"150px",width:"150px"}})})})},"profile"),Object(I.jsxs)(F.a,{item:!0,xs:8,className:a.profileSpacing,children:[Object(I.jsx)(u.b,{style:{textDecoration:"none",color:"black"},to:{pathname:"/profile/".concat(m.uid),state:{userId:m.uid,type:"user"}},children:Object(I.jsx)(O.a,{variant:"h3",children:m.name})},"profile"),Object(I.jsx)(O.a,{variant:"body1",className:a.descSpacing,children:"Bio:"}),Object(I.jsx)(O.a,{variant:"body2",color:"textSecondary",className:a.descSpacing,children:m.bio})]})]}):null]})})}var ja=a(118),ba=a.n(ja),ha=Object(He.a)((function(e){return{badge:{bottom:50,right:20,padding:"0 4px",height:55,width:55,borderRadius:100,color:"#FFB341"}}}))(_e.a),ma=Object(x.a)((function(e){return{root:{display:"flex",justifyContent:"center",margin:"auto"},image:{border:"2px solid black",height:250,display:"flex",justifyContent:"center",borderRadius:"20px",margin:20},offerSpacing:{padding:20},card:{width:1e3},avatar:{width:e.spacing(15),height:e.spacing(15),border:"5px solid rgb(255, 0, 0, 0)"},avi:{display:"flex","& > *":{margin:e.spacing(1)}},verticalSpacing:{marginTop:20,marginBottom:20},center:{alignItems:"center"},date:{display:"flex",justifyContent:"flex-end",paddingRight:40},bottom:{alignItems:"flex-end"},spacer:{marginTop:"200px"},chatButton:{display:"flex",justifyContent:"flex-end",alignItems:"center",paddingRight:40},title:{display:"flex",alignItems:"center"},height1:{},height2:{paddingTop:20,paddingRight:20},height3:{position:"absolute",bottom:20},avatarSpacing:{paddingLeft:30},profileSpacing:{paddingLeft:40,paddingTop:10},descSpacing:{paddingTop:10},emergency:{display:"flex",alignItems:"center",justifyContent:"flex-start"},redText:{color:"red",paddingLeft:4},relative:{position:"relative"}}}));function fa(e){var t=e.doc,a=ma();console.log("doc: ",t);t.productId;var c=t.userId,r=t.title,i=t.emergency,o=t.description,s=t.quantity,l=t.date,j=Object(n.useState)({}),b=Object(d.a)(j,2),h=b[0],m=b[1];Object(n.useEffect)((function(){f.firestore.collection("organizations").where("uid","==",c).get().then((function(e){e.forEach((function(e){m(e.data())}))})).catch((function(e){return console.log(e.message)}))}),[]),console.log("org: ",h);var g=Wt.format(new Date(1e3*l.seconds));return Object(I.jsx)(F.a,{item:!0,xs:12,className:a.root,children:Object(I.jsxs)(W.a,{className:a.card,children:[Object(I.jsxs)(F.a,{container:!0,direction:"row",children:[Object(I.jsx)(F.a,{item:!0,xs:6,children:i?Object(I.jsx)("img",{src:"https://images.unsplash.com/photo-1559199882-6959a71820bc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1431&q=80",className:a.image}):Object(I.jsx)("img",{src:"https://images.unsplash.com/photo-1532629345422-7515f3d16bb6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1050&q=80",className:a.image})}),Object(I.jsx)(F.a,{container:!0,item:!0,xs:6,children:Object(I.jsxs)(F.a,{container:!0,direction:"column",className:a.relative,children:[i?Object(I.jsxs)(F.a,{container:!0,direction:"row",className:a.height1,children:[Object(I.jsx)(F.a,{item:!0,xs:6,className:a.title,children:Object(I.jsx)(O.a,{variant:"h3",children:r})}),Object(I.jsxs)(F.a,{item:!0,xs:5,className:a.emergency,children:[Object(I.jsx)(ba.a,{color:"error",variant:"filled"}),Object(I.jsx)(O.a,{className:a.redText,children:"Urgent Request"})]}),Object(I.jsx)(F.a,{item:!0,xs:1,className:a.chatButton,children:Object(I.jsx)(u.b,{to:{pathname:"/chat/".concat(h.uid),state:{userId:h.uid}},children:Object(I.jsx)(ue.a,{"aria-label":"chat",children:Object(I.jsx)(de.a,{})})},"chat")})]}):Object(I.jsxs)(F.a,{container:!0,direction:"row",className:a.height1,children:[Object(I.jsx)(F.a,{item:!0,xs:4,className:a.title,children:Object(I.jsx)(O.a,{variant:"h3",children:r})}),Object(I.jsx)(F.a,{item:!0,xs:8,className:a.chatButton,children:Object(I.jsx)(u.b,{to:{pathname:"/chat/".concat(h.uid),state:{userId:h.uid}},children:Object(I.jsx)(ue.a,{"aria-label":"chat",children:Object(I.jsx)(de.a,{})})},"chat")})]}),Object(I.jsxs)(F.a,{item:!0,className:a.height2,children:[Object(I.jsx)(O.a,{variant:"body1",children:"Description:"}),Object(I.jsx)(O.a,{variant:"body2",color:"textSecondary",children:o})]}),Object(I.jsxs)(F.a,{container:!0,direction:"row",className:a.height3,children:[Object(I.jsx)(F.a,{item:!0,xs:6,children:Object(I.jsx)(O.a,{variant:"body2",color:"textSecondary",children:"Quantity: ".concat(s)})}),Object(I.jsx)(F.a,{item:!0,xs:6,className:a.date,children:Object(I.jsx)(O.a,{variant:"body2",color:"textSecondary",children:g})})]})]})})]}),h.zipcode?Object(I.jsx)(sa,{zip:h.zipcode,pic:h.photo_url}):null,h.bio?Object(I.jsxs)(F.a,{container:!0,direction:"row",className:a.verticalSpacing,children:[Object(I.jsx)(u.b,{to:{pathname:"/charities/".concat(h.uid),state:{userId:h.uid,type:"charity"}},children:Object(I.jsx)("div",{style:{border:"8px solid #ffff57",borderRadius:"100%",marginLeft:"30px"},children:Object(I.jsx)(ha,{color:"primary",children:Object(I.jsx)(J.a,{alt:h.name,src:h.photo_url,style:{border:"5px solid rgb(255, 0, 0, 0)",height:"150px",width:"150px"}})})})},"charity"),Object(I.jsxs)(F.a,{item:!0,xs:8,className:a.profileSpacing,children:[Object(I.jsx)(u.b,{style:{textDecoration:"none",color:"black"},to:{pathname:"/charities/".concat(h.uid),state:{userId:h.uid,type:"charity"}},children:Object(I.jsx)(O.a,{variant:"h3",children:h.name})},"charity"),Object(I.jsx)(O.a,{variant:"body1",className:a.descSpacing,children:"Bio:"}),Object(I.jsx)(O.a,{variant:"body2",color:"textSecondary",className:a.descSpacing,children:h.bio})]})]}):null]})})}function ga(){var e=Object(j.f)().state,t=e.productId,a=e.userId,n=e.title,c=e.imgURL,r=e.description,i=e.emergency,o=e.quantity,s=e.date,l=e.context;if("organizations"===l){var d={productId:t,userId:a,title:n,emergency:i,description:r,quantity:o,date:s};return Object(I.jsx)(fa,{doc:d})}if("offer"===l){var u={productId:t,userId:a,title:n,imgURL:c,description:r,quantity:o,date:s};return Object(I.jsx)(ua,{doc:u})}return null}var xa=function(){var e=Object(b.a)(f.auth),t=Object(d.a)(e,1)[0],a=Object(n.useState)(null),c=Object(d.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(0),s=Object(d.a)(o,2),l=s[0],m=s[1],x=Object(n.useState)([]),p=Object(d.a)(x,2),O=p[0],y=p[1],v=Object(n.useState)(0),C=Object(d.a)(v,2),w=C[0],S=C[1],k=f.firestore.collection("messages").orderBy("createdAt"),N=Object(h.a)(k,{idField:"id"}),T=Object(d.a)(N,1)[0];return Object(n.useEffect)((function(){t&&(T&&y(T.filter((function(e){return e.uid===t.uid||e.recieverId===t.uid}))),console.log("Updating messages"))}),[T,t]),Object(n.useEffect)((function(){if(!t)return null;var e=0;O.forEach((function(a){a.uid!==t.uid&&(e+=1)})),m(e-w),S(e)}),[O,t]),Object(n.useEffect)((function(){S(0)}),[t]),Object(n.useEffect)((function(){null!==t?(f.firestore.collection("users").where("uid","==",t.uid).get().then((function(e){e.forEach((function(e){i(e.data())}))})).catch((function(e){console.log("Error getting documents: ",e)})),f.firestore.collection("organizations").where("uid","==",t.uid).get().then((function(e){e.forEach((function(e){i(e.data())}))})).catch((function(e){console.log("Error getting documents: ",e)}))):i(null)}),[t]),Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(g.Provider,{value:{user:t,userInfo:r,setUserInfo:i,newMessagesCount:l,setNewMessagesCount:m,relevantMessages:O,setRelevantMessages:y},children:Object(I.jsxs)(u.a,{children:[Object(I.jsx)(Nt,{title:"CommonGood"}),Object(I.jsxs)(j.c,{children:[Object(I.jsx)(j.a,{path:"/",exact:!0,component:Ft}),Object(I.jsx)(j.a,{path:"/donations",exact:!0,component:Ae}),Object(I.jsx)(j.a,{path:"/donations/:pid",exact:!0,component:ga}),Object(I.jsx)(j.a,{path:"/charities",exact:!0,component:ee}),Object(I.jsx)(j.a,{path:"/charities/:uid",exact:!0,component:rt}),Object(I.jsx)(j.a,{path:"/profile/:uid",exact:!0,component:rt}),Object(I.jsx)(j.a,{path:"/chat/:uid",exact:!0,component:na})]}),Object(I.jsx)(L,{title:"Footer",description:"Want to see more? Follow us!"})]})})})},pa=Object(o.a)({palette:{primary:{light:"#ffff57",main:"#ffed03",dark:"#c7bb00",contrastText:"#000000"},secondary:{light:"#6ec6ff",main:"#2196f3",dark:"#0069c0",contrastText:"#000000"},background:{default:"#6ec6ff"}},overrides:{MuiButton:{text:{background:"#ffed03",borderRadius:3,border:0,color:"black",height:25,padding:"0 10px",boxShadow:"0 3px 5px 2px rgba(51, 51, 51, .2)"}}}});i.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsxs)(s.a,{theme:pa,children:[Object(I.jsx)(l.a,{}),Object(I.jsx)(xa,{})]})}),document.getElementById("root"))},49:function(e,t,a){var n=a(150),c=n().subtract("day",60).valueOf(),r=function(e){return Math.floor(e/864e5)};e.exports={expiryThreshold:c,convertMsToDays:r,daysToExpiry:function(e){return r(n()-e)}}}},[[153,1,2]]]);
//# sourceMappingURL=main.496e7380.chunk.js.map